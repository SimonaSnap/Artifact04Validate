<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>
      Validator Artifact
    </title>
    <link rel="stylesheet" href="./style.css" type="text/css"/>
    <style type="text/css" xml:space="preserve">
BODY, P,TD{ font-family: Arial,Verdana,Helvetica, sans-serif; font-size: 10pt }
A{font-family: Arial,Verdana,Helvetica, sans-serif;}
B {	font-family : Arial, Helvetica, sans-serif;	font-size : 12px;	font-weight : bold;}
.error_strings{ font-family:Verdana; font-size:10px; color:#660000;}
</style>
<script src="gen_validatorv4.js" type="text/javascript"></script>
  </head>
  <body>
    <form onsubmit="return validateForm();">
      <table cellspacing="2" cellpadding="2" border="0">
        <tr>
          <td align="right">
            First Name
          </td>
          <td>
            <input type="text" name="FirstName" id="FirstName" />
          </td>
        </tr>
        <tr>
          <td align="right">
            Last Name
          </td>
          <td>
            <input type="text" name="LastName" id="lastname"/>
          </td>
        </tr>
        <tr>
          <td align="right">
            Email
          </td>
          <td>
            <input type="text" name="Email" />
          </td>
        </tr>
        <tr>
          <td align="right">
            Phone
          </td>
          <td>
            <input type="text" name="Phone" />
          </td>
        </tr>
        <tr>
          <td align="right">
            Username
          </td>
          <td>
            <input type="text" name="Username" />
          </td>
        </tr>
        <tr>
          <td align="right">
            Password
          </td>
          <td>
            <input type="text" name="Password" />
          </td>
        </tr>
        <tr>
          <td align="right">
            Address
          </td>
          <td>
            <textarea cols="20" rows="5" name="Address"></textarea>
          </td>
        </tr>
        <tr>
          <td align="right">
            City
          </td>
          <td>
            <input type="text" name="City" />
          </td>
        </tr>
        <tr>
          <td align="right">
            State
          </td>
          <td>
            <select name="State" />
              <option name="state" size="1">
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="DC">Dist of Columbia</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
              </option>
          </td>
        </tr>
        <tr>
          <td align="right">
            Country
          </td>
          <td>
            <select name="Country">
            <option value="" selected="selected">
              [choose yours]
            </option>
            <option value="191">
              USA
            </option>
            <option value="008">
              Albania
            </option>
            <option value="012">
              Algeria
            </option>
            <option value="016">
              American Samoa
            </option>
            <option value="020">
              Andorra
            </option>
            <option value="024">
              Angola
            </option>
            <option value="660">
              Anguilla
            </option>
            <option value="010">
              Antarctica
            </option>
            <option value="028">
              Antigua And Barbuda
            </option>
            <option value="032">
              Argentina
            </option>
            <option value="051">
              Armenia
            </option>
            <option value="533">
              Aruba
            </option></select>
          </td>
        </tr>
        <tr>
          <td align="right">
            ZipCode
          </td>
          <td>
            <input type="text" name="ZipCode" />
          </td>
        </tr>
        <tr>
          <td align="right"></td>
          <td>
            <div id="myform_errorloc" class="error_strings">
            </div>
          </td>
        </tr>
        <tr>
          <td align="right"></td>
          <td>
            <input type="submit" value="Submit" />
          </td>
        </tr>
      </table>
      <div id="errorMessages"></div>
    </form>
    <script type="text/javascript"> var frmvalidator  = new Validator("myform"); 
    frmvalidator.EnableOnPageErrorDisplaySingleBox();
 frmvalidator.EnableMsgsTogether();

 function validateForm(){
    //1) Create variable
    var validFirstname=false;
    var validLastname=false;
    var validEmail=false;
    var validPhone=false;
    var validAddress=false;
    var validCity=false;
    var validState=false;
    var validCountry=false;
    var validZipCode=false;
    //2) read value from HTML
    var firstname = document.getElementById("firstname").value;
    var validLastname = document.getElementById("lastname").value;
    var userEmail = document.getElementById("email").value;
    var phone = document.getElementById("phone").value;
    var address = document.getElementById("address").value;
    var city = document.getElementById("city").value;
    var state = document.getElementById("state").value;
    var country = document.getElementById("country").value;
    var zipcode = document.getElementById("zipcode").value;
    var atpos = userEmail.indexOf("@");
    var dotpos = userEmail.lastIndexOf(".");
    //3) Do validation
    if (firstname==="null" || firstname==="" || firstname.length > 20){
        errorMessages += "<p>The firstname is required and cannot be greater than 20 characters</p>";
    }
    if (lastname==="null" || lastname==="" || lastname.length > 20){
        errorMessages += "<p>The lastname is required and cannot be greater than 20 characters</p>";
    } 
    if (atpos< 1 || dotpos<atpos+2 || dotpos+2>=userEmail.length) {
        errorMessages += "<p>Invalid email</p>";
    }
    if (isNaN(phone) || phone.lenght >15 || phone===null || phone===""){
        errorMessages += "<p>Invalid phone number</p>";
    }
    if (address ===null){
        errorMessages += "<p>Invalid address value</p>"
    }
    if (city ===null){
        errorMessages += "<p>Invalid city value</p>"
    }
    if (state ===null){
        errorMessages += "<p>Invalid state value</p>"
    }
    if (country ===null){
        errorMessages += "<p>Invalid country value</p>"
    }
    else {
        validFirstname = true;
        validLastname = true;
        validEmail = true;
        validPhone = true;
        validAddress = true;
        validCity = true;
        validState = true;
        validCountry = true;
        if (country === "USA"){
            if (isNaN(zipcode) || zipcode.lenght > 5 || zipcode===null || zipcode===""){
                errorMessages += "<p>Invalid zipcode number</p>";
            }
            else {
                validZipCode = true;
            }
        }
        errorMessages += "<p>Fields filled out successfully! Thank you!</p>"
    }
    //4) Send error message to HTML
    document.getElementById("errorMessages").innerHTML = errorMessages;
    //5) return status of each field
    return (validFirstname && validLastname && validEmail && validPhone && validAddress && validCity && validState && validCountry && validZipCode);
    
}	

frmvalidator.setAddnlValidationFunction(validateForm);
</script>
    <!--<script src="./script.js"></script> -->
  </body>
</html>
